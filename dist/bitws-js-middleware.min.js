/*! bitws-js-middleware 03-05-2016 */
var Swagger=require("swagger-client"),bitwsjs=require("bitws-js");module.exports=function(a,b,c){var d=a;b||(b=new bitwsjs.bitcore.PrivateKey);var e=function(a){this.key=a};return e.prototype.apply=function(a,b){var c=bitwsjs.signSerialize(d,a.data,this.key,null);return a.headers.signature=c,!0},module.client=new Swagger({url:d,port:3666,success:function(){console.log("bitws-js-middleware initiated"),c&&c(!0)},error:function(a){console.log("bitws-js-middleware error on init: "+a.statusText),c&&c(!0)},authorizations:{bitws:new e(b)}}),module};